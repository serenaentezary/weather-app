(this["webpackJsonpandplus-weather-app"]=this["webpackJsonpandplus-weather-app"]||[]).push([[0],{27:function(t,e,c){},28:function(t,e,c){},51:function(t,e,c){"use strict";c.r(e);var n=c(2),a=c.n(n),r=c(4),s=c.n(r),i=(c(27),c(28),c(9)),o=c.n(i),l=c(18),d=c(6),u=c(7),j=c.n(u),h=c(22),b=c(20),p=c(21),f=c.n(p),O=c(1),m=function(t){var e=t.onClick,c=t.text;return Object(O.jsxs)("div",{className:"pin",onClick:function(){return e(c)},children:[Object(O.jsx)(b.Icon,{icon:f.a,className:"pin-icon"}),c&&Object(O.jsx)("p",{className:"pin-text",onClick:function(){return e(c)},children:c})]})},x=function(t){return null===t||"undefined"===typeof t},y=function(t){var e=t.data;return Object(O.jsx)("div",{className:"daily-weather-container",children:e.map((function(t,e){return x(t)?"":Object(O.jsxs)("div",{className:"weather-time-of-day",children:[t.name&&Object(O.jsx)("h3",{children:t.name}),t.icon&&Object(O.jsx)("img",{alt:"Icon for weather",className:"icon",src:"".concat(t.icon)}),t.detailedForecast&&Object(O.jsx)("p",{className:"forecast-text",children:t.detailedForecast})]},t.number?"weather-".concat(t.number):"weather-".concat(e))}))})},v=function(t){var e=t.data,c=t.selectedCity;return Object(O.jsx)("div",{className:"weather-bar",children:Object(O.jsxs)("div",{className:"city-header",children:[c.city&&Object(O.jsx)("h2",{children:c.city}),e&&Object(O.jsx)(y,{data:e})]})})},g=[{city:"Atlanta",data:{address:"Atlanta, GA",lat:33.749,lng:-84.387}},{city:"Boston",data:{address:"Boston, MA",lat:42.358,lng:-71.059}},{city:"Chicago",data:{address:"Chicago, IL",lat:41.85,lng:-87.65}},{city:"Phoenix",data:{address:"Phoenix, AZ",lat:33.448,lng:-112.074}},{city:"Portland",data:{address:"Portland, OR",lat:45.523,lng:-122.676}}],C=function(t){var e=t.location,c=void 0===e?g[2]:e,a=t.zoomLevel,r=Object(n.useState)(g[2]),s=Object(d.a)(r,2),i=s[0],u=s[1],b=Object(n.useState)([]),p=Object(d.a)(b,2),f=p[0],y=p[1],C=Object(n.useState)(!0),N=Object(d.a)(C,2),k=N[0],w=N[1],F=Object(n.useState)(""),A=Object(d.a)(F,2),L=A[0],P=A[1],S=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:i,e=t.data.lat,c=t.data.lng;j.a.get("https://api.weather.gov/points/".concat(e,",").concat(c)).then((function(t){j.a.get(t.data.properties.forecast).then((function(t){x(t.data.properties)||y(t.data.properties.periods)})).catch((function(t){return console.error(t)}))})).catch((function(t){return console.error(t)}))},I=function(t,e){t===e.city&&e!==i&&u(e)},B=function(){var t=Object(l.a)(o.a.mark((function t(){var e;return o.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,j.a.get("http://localhost:3001/api");case 3:e=t.sent,P(e.data.key),t.next=10;break;case 7:t.prev=7,t.t0=t.catch(0),console.error(t.t0);case 10:case"end":return t.stop()}}),t,null,[[0,7]])})));return function(){return t.apply(this,arguments)}}();return Object(n.useEffect)((function(){B(),S()}),[]),Object(n.useEffect)((function(){S(i)}),[i]),Object(O.jsxs)(O.Fragment,{children:[L&&Object(O.jsx)("div",{className:"map",children:Object(O.jsx)("div",{className:"google-map",children:Object(O.jsx)(h.a,{bootstrapURLKeys:{key:L},defaultCenter:c.data,defaultZoom:a,children:g.map((function(t){var e=t.data;return Object(O.jsx)(m,{lat:e.lat,lng:e.lng,onClick:function(){return I(t.city,t)},text:t.city},t.city)}))})})}),Object(O.jsx)("button",{"aria-label":"Click here to see weather results",className:"reopen is-displayed-".concat(k),onClick:function(){w(!1)},children:Object(O.jsx)("p",{className:"display-results",children:"Click here to display weather results"})}),Object(O.jsxs)("div",{className:"bottom-section is-closed-".concat(k),children:[Object(O.jsx)("button",{"aria-label":"Click here to close the weather information",className:"close",onClick:function(){w(!0)},children:"X"}),Object(O.jsx)("div",{className:"button-selectors",children:g.map((function(t,e){var c=t.city===i.city?" button-selected":"";return Object(O.jsx)("button",{className:"city-button".concat(c),onClick:function(){return I(t.city,t)},type:"button",children:t.city},"button-".concat(e))}))}),Object(O.jsx)(v,{data:f,selectedCity:i})]})]})},N=function(){return Object(O.jsx)("div",{className:"App",children:Object(O.jsx)(C,{zoomLevel:3.5})})},k=function(t){t&&t instanceof Function&&c.e(3).then(c.bind(null,52)).then((function(e){var c=e.getCLS,n=e.getFID,a=e.getFCP,r=e.getLCP,s=e.getTTFB;c(t),n(t),a(t),r(t),s(t)}))};s.a.render(Object(O.jsx)(a.a.StrictMode,{children:Object(O.jsx)(N,{})}),document.getElementById("root")),k()}},[[51,1,2]]]);
//# sourceMappingURL=main.7ec81af3.chunk.js.map